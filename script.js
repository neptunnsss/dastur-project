const translations = {
  kz: {
    "nav-about": "Жоба туралы",
    "nav-features": "Мүмкіндіктер",
    "nav-team": "Команда",
    "nav-dl": "Жүктеу",
    "hero-title": "Ата-баба мұрасын жаңғырт",
    "hero-desc":
      "Жаңа ұрпақ үшін жасалған қазақ салт-дәстүрлерінің интерактивті платформасы.",
    "hero-btn": "Танысуды бастау",
    "hero-more": "Толығырақ",
    "val-title": "Dästür құндылығы",
    "v1-h": "Шынайылық",
    "v1-p": "Этнографтармен бірлесіп әрбір рәсімді терең зерттеу.",
    "v2-h": "Цифрландыру",
    "v2-p":
      "Дәстүрлер енді ыңғайлы форматта: видео-сабақтардан AI-кеңестерге дейін.",
    "v3-h": "Қоғамдастық",
    "v3-p": "Жастарды Қазақстанның мәдени коды төңірегіне біріктіреміз.",
    "feat-title": "Қолданба функциялары",
    "f1-h": "Энциклопедия",
    "f1-p": '"Шілдеханадан" бастап "Беташарға" дейінгі толық каталог.',
    "f2-h": "Dästür AI",
    "f2-p": "Ақылды ассистент рәсімдер туралы кез келген сұраққа жауап береді.",
    "f3-h": "Көптілділік",
    "f3-p": "Мәдени мұраны әлемге таныту үшін Қазақ, Орыс және Ағылшын тілдеріндегі толық локализация.",
    "team-title": "Біздің Команда",
    "t1-n": "Әлихан Смайылов",
    "t1-r": "Жоба жетекшісі",
    "t2-n": "Арман Ибраев",
    "t2-r": "Full-stack әзірлеуші",
    "t3-n": "Мәдина Серікова",
    "t3-r": "UI/UX дизайнері",
    "dl-title": "Қолданба әрқашан жаныңда",
    "dl-desc": "Ғасырлар мұрасын бірге жаңғыртайық. AITUCUP-та Dästür-ді бірінші болып сынап көріңіз және цифрлық дәуірдегі дәстүрлеріміздің гүлденуіне өз үлесіңізді қосыңыз.",
    "footer-text": "© 2026 Dästür.",
    "sugg-title": "Сирек дәстүрді білесіз бе?",
    "sugg-desc":
      "Мұраны сақтауға көмектесіңіз. Опишите обычай, и он появится в Dästür.",
    "input-name-ph": "Атыңыз",
    "input-trad-ph": "Дәстүр атауы",
    "input-text-ph": "Қысқаша сипаттамасы...",
    "btn-send": "Жіберу",
    "form-success-text": "Рахмет! Сіздің ұсынысыңыз қабылданды.",
  },
  ru: {
    "nav-about": "О проекте",
    "nav-features": "Возможности",
    "nav-team": "Команда",
    "nav-dl": "Скачать",
    "hero-title": "Оживи наследие предков",
    "hero-desc":
      "Интерактивная платформа казахских традиций, созданная для нового поколения.",
    "hero-btn": "Начать знакомство",
    "hero-more": "Узнать больше",
    "val-title": "Ценность Dästür",
    "v1-h": "Аутентичность",
    "v1-p": "Глубокое исследование каждого обряда совместно с этнографами.",
    "v2-h": "Цифровизация",
    "v2-p": "Традиции теперь в удобном формате: от видео-уроков до AI-советов.",
    "v3-h": "Сообщество",
    "v3-p": "Объединяем молодежь вокруг культурного кода Казахстана.",
    "feat-title": "Функции приложения",
    "f1-h": "Энциклопедия",
    "f1-p": "Полный каталог: от 'Шілдехана' до 'Беташар'.",
    "f2-h": "Dästür AI",
    "f2-p": "Умный ассистент ответит на любой вопрос о правилах обрядов.",
    "f3-h": "Многоязычность",
    "f3-p": "Полная локализация на казахский, русский и английский языки для продвижения наследия во всем мире.",
    "team-title": "Наша Команда",
    "dl-title": "Приложение всегда с тобой",
    "dl-desc": "Возродим вековые традиции вместе. Станьте первым испытателем Dästür на AITUCUP и внесите свой вклад в процветание нашей культуры в цифровую эпоху.",
    "footer-text": "© 2026 Dästür.",
    "t1-n": "Алихан Смаилов",
    "t1-r": "Project Manager & Vision",
    "t2-n": "Арман Ибраев",
    "t2-r": "Full-stack Developer",
    "t3-n": "Мадина Серикова",
    "t3-r": "UI/UX Designer & Content",
    "sugg-title": "Знаете редкую традицию?",
    "sugg-desc":
      "Помогите нам сохранить наследие. Опишите обычай, и он появится в Dästür.",
    "input-name-ph": "Ваше имя",
    "input-trad-ph": "Название традиции",
    "input-text-ph": "Краткое описание...",
    "btn-send": "Отправить",
    "form-success-text": "Рахмет! Ваше предложение принято.",
  },
  en: {
    "nav-about": "About",
    "nav-features": "Features",
    "nav-team": "Team",
    "nav-dl": "Download",
    "hero-title": "Revive Ancestral Heritage",
    "hero-desc":
      "Interactive platform of Kazakh traditions built for the new generation.",
    "hero-btn": "Get Started",
    "hero-more": "Learn More",
    "val-title": "Dästür Values",
    "v1-h": "Authenticity",
    "v1-p": "Deep research of every ritual together with ethnographers.",
    "v2-h": "Digitalization",
    "v2-p": "Traditions in a handy format: from video lessons to AI tips.",
    "v3-h": "Community",
    "v3-p": "Uniting youth around the cultural code of Kazakhstan.",
    "feat-title": "Key Features",
    "f1-h": "Encyclopedia",
    "f1-p": "Full catalog: from 'Shildekhana' to 'Betashar'.",
    "f2-h": "Dästür AI",
    "f2-p": "Smart assistant will answer any question about ritual rules.",
    "f3-h": "Multilingual Support",
    "f3-p": "Full localization into Kazakh, Russian, and English to promote heritage on a global scale.",
    "team-title": "Our Team",
    "t1-n": "Alikhan Smailov",
    "t1-r": "Project Manager & Visionary",
    "t2-n": "Arman Ibrayev",
    "t2-r": "Lead Full-stack Developer",
    "t3-n": "Madina Serikova",
    "t3-r": "Product Designer & Researcher",
    "dl-title": "App is always with you",
    "dl-desc": "Let's revive centuries-old traditions together. Be the first to test Dästür at AITUCUP and contribute to the prosperity of our culture in the digital age.",
    "footer-text": "© 2026 Dästür.",
    "sugg-title": "Know a rare tradition?",
    "sugg-desc":
      "Help us preserve the heritage. Describe a custom, and it will appear in Dästür.",
    "input-name-ph": "Your Name",
    "input-trad-ph": "Tradition Name",
    "input-text-ph": "Brief description...",
    "btn-send": "Submit",
    "form-success-text": "Thank you! Your suggestion has been received.",
  },
};

function showPage(pageId, sectionId = null) {
    const landing = document.getElementById('landing-page');
    const download = document.getElementById('download-page');
    const navMenu = document.getElementById('navMenu');

    if (navMenu) navMenu.classList.remove('active');
    
    const menuIcon = document.querySelector('#menuToggle i');
    if (menuIcon) {
        menuIcon.classList.remove('fa-times');
        menuIcon.classList.add('fa-bars');
    }

    if (pageId === 'download') {
        landing.classList.add('hidden');
        download.classList.remove('hidden');
        window.scrollTo(0, 0); 
    } else {
        download.classList.add('hidden');
        landing.classList.remove('hidden');
        if (sectionId) {
            const section = document.getElementById(sectionId);
            if (section) section.scrollIntoView({ behavior: 'smooth' });
        }
    }
}

function scrollToSection(id) {
  document.getElementById(id).scrollIntoView({ behavior: "smooth" });
}

function setLanguage(lang) {
  for (let key in translations[lang]) {
    const el = document.getElementById(key);
    if (el) {
      if (el.tagName === "INPUT" || el.tagName === "TEXTAREA") {
        el.placeholder = translations[lang][key];
      } else {
        el.innerHTML = translations[lang][key];
      }
    }
  }
  document.getElementById("input-name").placeholder =
    translations[lang]["input-name-ph"];
  document.getElementById("input-tradition").placeholder =
    translations[lang]["input-trad-ph"];
  document.getElementById("input-text").placeholder =
    translations[lang]["input-text-ph"];

  localStorage.setItem("dastur_lang", lang);
}

document.getElementById("menuToggle").addEventListener("click", () => {
  document.getElementById("navMenu").classList.toggle("active");
});

document.addEventListener("DOMContentLoaded", () => {
  const savedLang = localStorage.getItem("dastur_lang") || "ru";
  setLanguage(savedLang);
});

document.getElementById("suggestForm").addEventListener("submit", function (e) {
  e.preventDefault();

  const name = document.getElementById("input-name").value;
  const tradition = document.getElementById("input-tradition").value;
  const description = document.getElementById("input-text").value;
  const btn = document.getElementById("btn-send");

  btn.disabled = true;
  btn.innerText = "...";
  fetch(
    "https://script.google.com/macros/s/AKfycbygfUuCL8ZnAW1g0IUbyVpBnVm7aQH_9HVyNNkWrpgEBfNFbrhtXoa-d5LqkIYMb93-/exec",
    {
      method: "POST",
      mode: "no-cors",
      cache: "no-cache",
      body: JSON.stringify({
        name: name,
        tradition: tradition,
        description: description,
      }),
    }
  )
    .then((response) => {
      document.getElementById("suggestForm").classList.add("hidden");
      document.getElementById("form-success").classList.remove("hidden");
    })
    .catch((error) => {
      console.error("Ошибка!", error);
      btn.disabled = false;
      btn.innerText = "Ошибка";
    });
});
